<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>ajaxのテスト</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
</head>
<body>
  <h1>ajax test</h1>
  <input type="button" id="ajax_button" value="ボタンを押すとテキスト表示">

  <div id="result">
  </div>

  <script>
  $(function() {
    $('#ajax_button').on('click', function() {
      $('#result').prepend('<img src="./images/now_loading.gif" id="loading" style="display:none;">');
      $('#loading').fadeIn('fast');

      setTimeout(function() {
        $.ajax ({
          url: 'for_ajax.html',
          timeout: 5000
        }).done(function(data) {
          $('#result').html(data);
          $('#ajax_contents').fadeIn('slow');
        }).fail(function() {
          $('#result').html('failed...');
        });
      }, 1000);
    });
  });
  </script>
</body>
